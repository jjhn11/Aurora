import eventImage1 from '@/assets/img/events/cultural-event-1.jpg';
import eventImage2 from '@/assets/img/events/cultural-event-2.jpg';
import eventImage3 from '@/assets/img/events/cultural-event-2.jpg';
import eventImage4 from '@/assets/img/events/sports-event-1.jpg';
import eventImage5 from '@/assets/img/events/sports-event-2.jpg';
import eventImage6 from '@/assets/img/events/sports-event-2.jpg';
import eventImage7 from '@/assets/img/events/school-event-1.jpg';
import eventImage8 from '@/assets/img/events/school-event-1.jpg';
import eventImage9 from '@/assets/img/events/school-event-1.jpg';

export default {
  namespaced: true,
  state: {
    events: [
      {
        id: 1,
        title: "Conversatorio del Libro",
        date: "2025-04-15",
        description: "Pachuca invita a toda la Comunidad TECNM y al público en general a seguir el conversatorio del libro 'Cómo el Hombre llegó a ser Gigante'.",
        image: eventImage1,
        category: "Cultural"
      },
      {
        id: 2,
        title: "Encuentro Nacional",
        date: "2025-04-11",
        description: "Con el objetivo de fortalecer los trabajos de innovación e investigación, en el sector lechero, mediante el intercambio de saberes.",
        image: eventImage2,
        category: "Cultural"
      },
      {
        id: 3,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 4,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 5,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 6,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 7,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 8,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 9,
        title: "Plática Residencia Profesional",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Escolar"
      },
      {
        id: 10,
        title: "Conversatorio del Libro",
        date: "2025-04-15",
        description: "Pachuca invita a toda la Comunidad TECNM y al público en general a seguir el conversatorio del libro 'Cómo el Hombre llegó a ser Gigante'.",
        image: eventImage1,
        category: "Cultural"
      },
      {
        id: 11,
        title: "Encuentro Nacional",
        date: "2025-04-11",
        description: "Con el objetivo de fortalecer los trabajos de innovación e investigación, en el sector lechero, mediante el intercambio de saberes.",
        image: eventImage2,
        category: "Cultural"
      },
      {
        id: 12,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 13,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 14,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 15,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 16,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 17,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 18,
        title: "Plática Residencia Profesional",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Escolar"
      },
      {
        id: 19,
        title: "Conversatorio del Libro",
        date: "2025-04-15",
        description: "Pachuca invita a toda la Comunidad TECNM y al público en general a seguir el conversatorio del libro 'Cómo el Hombre llegó a ser Gigante'.",
        image: eventImage1,
        category: "Cultural"
      },
      {
        id: 20,
        title: "Encuentro Nacional",
        date: "2025-04-11",
        description: "Con el objetivo de fortalecer los trabajos de innovación e investigación, en el sector lechero, mediante el intercambio de saberes.",
        image: eventImage2,
        category: "Cultural"
      },
      {
        id: 21,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 22,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 23,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 24,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 25,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 26,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 27,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Escolar"
      },
      {
        id: 28,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 29,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 30,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 31,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 32,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 33,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 34,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Escolar"
      },
      {
        id: 35,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 36,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 37,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 38,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 39,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 40,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 41,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Escolar"
      },
      {
        id: 42,
        title: "Visita por parte del INE",
        date: "2025-04-15",
        description: "Recibimos al Lic. Efraín Morales de la Cruz, Vocal Ejecutivo de la 01 Junta Distrital del INE en Baja California, y a la Lic. Nancy Robledo Torres.",
        image: eventImage3,
        category: "Cultural"
      },
      {
        id: 43,
        title: "Participación Equipo Voleibol",
        date: "2025-03-15",
        description: "El pasado sábado 15 de marzo, nuestro equipo de voleibol femenil representó con orgullo al Instituto Tecnológico de Mexicali.",
        image: eventImage4,
        category: "Deportivo"
      },
      {
        id: 44,
        title: "Carrera de Aniversario ITM",
        date: "2025-04-15",
        description: "Estudiantes, docentes y corredores participaron ayer en la edición 31 de la carrera de Aniversario del Instituto Tecnológico de Mexicali.",
        image: eventImage5,
        category: "Deportivo"
      },
      {
        id: 45,
        title: "Equipo de Softball",
        date: "2025-04-15",
        description: "Buenas tardes Búfalos, los invitamos a unirse al equipo de softball, por quien esté interesado.",
        image: eventImage6,
        category: "Deportivo"
      },
      {
        id: 46,
        title: "Conferencia 'Lógica Dialéctica'",
        date: "2025-04-15",
        description: "Extendemos una invitación a la Conferencia 'Lógica Dialéctica', que impartirá el Dir. General del Tecnológico Nacional de México, Ramón Jiménez López.",
        image: eventImage7,
        category: "Escolar"
      },
      {
        id: 47,
        title: "FERIA DEL EMPLEO",
        date: "2025-05-13",
        description: "13 DE MAYO 2025: Se invita a empresarios, comunidad estudiantil, egresados, maestros y público en general a participar.",
        image: eventImage8,
        category: "Escolar"
      },
      {
        id: 48,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Cultural"
      },
      {
        id: 49,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Cultural"
      },
      {
        id: 50,
        title: "Plática Residencia Profesional final",
        date: "2025-04-15",
        description: "Elizabeth Mora, impartió una valiosa plática, dirigida a los y las estudiantes que potencialmente egresarán entre diciembre de 2025 y junio de 2026.",
        image: eventImage9,
        category: "Cultural"
      },
    ],
    eventCategories: ["Todos", "Cultural", "Deportivo", "Escolar"],
    loading: {
      allEvents: false,
      eventDetails: false,
      categoryEvents: false
    },
    error: {
      allEvents: null,
      eventDetails: null,
      categoryEvents: null
    },
    currentCategory: "Todos"
  },

  getters: {
    // Get all events
    getAllEvents: (state) => {
      return state.events;
    },
    
    // Get upcoming events (future dates)
    getUpcomingEvents: (state) => {
      const today = new Date();
      today.setHours(0, 0, 0, 0); // Set to beginning of today
      
      return state.events.filter(event => {
        const eventDate = new Date(event.date);
        return eventDate >= today;
      }).sort((a, b) => new Date(a.date) - new Date(b.date)); // Sort by date ascending
    },
    
    getEventsByCategory: (state) => (category) => {
      return state.events.filter(event => event.category === category);
    },
    
    
    // Get event by ID
    getEventById: (state) => (id) => {
      return state.events.find(event => event.id === id || event.id === parseInt(id));
    },
    
    // Get events categories
    getEventCategories: (state) => {
      return state.eventCategories;
    },
    
    // Get current selected category
    getCurrentCategory: (state) => {
      return state.currentCategory;
    },
    
    // Get this month's events
    getCurrentMonthEvents: (state) => {
      const today = new Date();
      const currentMonth = today.getMonth();
      const currentYear = today.getFullYear();
      
      return state.events.filter(event => {
        const eventDate = new Date(event.date);
        return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;
      }).sort((a, b) => new Date(a.date) - new Date(b.date));
    },
    
    // Get events by date range
    getEventsByDateRange: (state) => (startDate, endDate) => {
      const start = new Date(startDate);
      const end = new Date(endDate);
      
      return state.events.filter(event => {
        const eventDate = new Date(event.date);
        return eventDate >= start && eventDate <= end;
      }).sort((a, b) => new Date(a.date) - new Date(b.date));
    }
  },

  mutations: {
    SET_EVENTS(state, events) {
      state.events = events;
    },
    
    SET_CURRENT_CATEGORY(state, category) {
      state.currentCategory = category;
    },
    
    ADD_EVENT(state, event) {
      state.events.push(event);
    },
    
    UPDATE_EVENT(state, updatedEvent) {
      const index = state.events.findIndex(event => event.id === updatedEvent.id);
      if (index !== -1) {
        state.events.splice(index, 1, updatedEvent);
      }
    },
    
    DELETE_EVENT(state, eventId) {
      state.events = state.events.filter(event => event.id !== eventId);
    },
    
    SET_LOADING(state, { type, value }) {
      state.loading[type] = value;
    },
    
    SET_ERROR(state, { type, value }) {
      state.error[type] = value;
    }
  },

  actions: {
    // Fetch all events
    fetchEvents({ commit, state }) {
      commit('SET_LOADING', { type: 'allEvents', value: true });
      commit('SET_ERROR', { type: 'allEvents', value: null });
      
      // Simulate API call
      return new Promise(resolve => {
        setTimeout(() => {
          // In a real app, this would be an API call
          commit('SET_LOADING', { type: 'allEvents', value: false });
          resolve(state.events);
        }, 500);
      });
    },
    
    // Fetch event by ID
    fetchEventById({ commit, getters }, eventId) {
      commit('SET_LOADING', { type: 'eventDetails', value: true });
      commit('SET_ERROR', { type: 'eventDetails', value: null });
      
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          const event = getters.getEventById(eventId);
          
          if (event) {
            commit('SET_LOADING', { type: 'eventDetails', value: false });
            resolve(event);
          } else {
            commit('SET_ERROR', { type: 'eventDetails', value: 'Evento no encontrado' });
            commit('SET_LOADING', { type: 'eventDetails', value: false });
            reject(new Error('Evento no encontrado'));
          }
        }, 500);
      });
    },
    
    // Fetch events by category
    fetchEventsByCategory({ commit, getters }, category) {
      commit('SET_LOADING', { type: 'categoryEvents', value: true });
      commit('SET_ERROR', { type: 'categoryEvents', value: null });
      commit('SET_CURRENT_CATEGORY', category);
      
      return new Promise(resolve => {
        setTimeout(() => {
          const events = getters.getEventsByCategory(category);
          commit('SET_LOADING', { type: 'categoryEvents', value: false });
          resolve(events);
        }, 500);
      });
    },
    
    // Add new event
    addEvent({ commit }, eventData) {
      commit('SET_LOADING', { type: 'allEvents', value: true });
      commit('SET_ERROR', { type: 'allEvents', value: null });
      
      return new Promise(resolve => {
        setTimeout(() => {
          // Generate a new ID (in a real app, the backend would do this)
          const newEvent = {
            id: Math.max(...this.state.events.map(e => e.id)) + 1,
            ...eventData
          };
          
          commit('ADD_EVENT', newEvent);
          commit('SET_LOADING', { type: 'allEvents', value: false });
          resolve(newEvent);
        }, 500);
      });
    },
    
    // Update existing event
    updateEvent({ commit }, eventData) {
      commit('SET_LOADING', { type: 'eventDetails', value: true });
      commit('SET_ERROR', { type: 'eventDetails', value: null });
      
      return new Promise(resolve => {
        setTimeout(() => {
          commit('UPDATE_EVENT', eventData);
          commit('SET_LOADING', { type: 'eventDetails', value: false });
          resolve(eventData);
        }, 500);
      });
    },
    
    // Delete event
    deleteEvent({ commit }, eventId) {
      commit('SET_LOADING', { type: 'allEvents', value: true });
      commit('SET_ERROR', { type: 'allEvents', value: null });
      
      return new Promise(resolve => {
        setTimeout(() => {
          commit('DELETE_EVENT', eventId);
          commit('SET_LOADING', { type: 'allEvents', value: false });
          resolve(true);
        }, 500);
      });
    }
  }
};